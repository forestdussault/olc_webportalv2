{% extends "base.html" %}

{% block content %}
    <br>
    <div class="container" align="center">
        <div class="jumbotron">
            <h3> {{ project_id.project_title }}</h3>
            <h5> Date Created: {{ project_id.date }}</h5>
        </div>

{#Main table for displaying project metadata#}
        <div id="project-table" class="form-control">
            {% include 'projects/project_table.html' %}
        </div>

{#Table for displaying genesippr results once they are complete#}
        <br>
            <div id="genesippr-results-table" class="form-control">
                {% if project_id.genesippr_status == 'Complete' %}
                    {% include 'projects/genesippr_results_table.html' %}
                {% else %}
                    <h5>GenesipprV2 Results</h5>
                    <div class="progress">
                        <div class="progress-bar bg-info progress-bar-striped progress-bar-animated" role="progressbar" style="width: 100%; height: 25px; font-size: medium; line-height: 25px" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
                            Pending
                        </div>
                    </div>
                {% endif %}
            </div>

    </div>

{# Script to reload the project table periodically #}
    <script type="text/javascript">
        setInterval(function() {
            jQuery(document).ready(function(){
                jQuery("#project-table").load("project_table");
                jQuery("#genesippr-results-table").load("genesippr_results_table");
            });
        }, 1000); // This reloads the <div> every 1 second.
    </script>

{% endblock content %}
